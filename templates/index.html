<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>All Services App</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 2rem; }
        input, button { padding: 0.5rem; margin: 0.5rem 0; }
        pre { background: #f4f4f4; padding: 1rem; }
    </style>
</head>
<body>
    <h1>Welcome to All Services App</h1>

    <h2>Echo</h2>
    <input type="text" id="echoInput" placeholder="Enter something">
    <button onclick="sendEcho()">Send</button>
    <pre id="echoResponse"></pre>

    <h2>Credit Card Validator</h2>
    <input type="text" id="cardInput" placeholder="Enter card number">
    <button onclick="validateCard()">Validate</button>
    <pre id="cardResponse"></pre>

    <h2>IP to Geo</h2>
    <input type="text" id="ipInput" placeholder="Enter IP">
    <button onclick="getIPGeo()">Get Geo</button>
    <pre id="ipResponse"></pre>

    <h2>Calculator</h2>
    <input type="text" id="calcInput" placeholder="Enter expression">
    <button onclick="calculate()">Calculate</button>
    <pre id="calcResponse"></pre>

    <script>
        async function sendEcho() {
            const val = document.getElementById('echoInput').value;
            const res = await fetch('/echo', {
                method: 'POST',
                headers: {'Content-Type':'application/json'},
                body: JSON.stringify({message: val})
            });
            document.getElementById('echoResponse').textContent = JSON.stringify(await res.json(), null, 2);
        }

        async function validateCard() {
            const val = document.getElementById('cardInput').value;
            const res = await fetch('/validate-card', {
                method: 'POST',
                headers: {'Content-Type':'application/json'},
                body: JSON.stringify({card_number: val})
            });
            document.getElementById('cardResponse').textContent = JSON.stringify(await res.json(), null, 2);
        }

        async function getIPGeo() {
            const val = document.getElementById('ipInput').value;
            const res = await fetch('/ip-geo', {
                method: 'POST',
                headers: {'Content-Type':'application/json'},
                body: JSON.stringify({ip: val})
            });
            document.getElementById('ipResponse').textContent = JSON.stringify(await res.json(), null, 2);
        }

        async function calculate() {
            const val = document.getElementById('calcInput').value;
            const res = await fetch('/calculate', {
                method: 'POST',
                headers: {'Content-Type':'application/json'},
                body: JSON.stringify({expression: val})
            });
            document.getElementById('calcResponse').textContent = JSON.stringify(await res.json(), null, 2);
        }
    </script>
</body>
</html>
